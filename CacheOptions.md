# Caching 

- Output cache stores a copy of the finally rendered HTML pages or part of pages sent to the client.<br/>
- A cache  stores the output generated by a page in the memory and this saved output (cache) will serve us (users) in the future.


Types of Caching:
   1) Output Caching
   2) Fragment Caching
   3) Data Caching <br/>
    
## Output Caching

output caching is used to store complete output of a specific web page in the cache memory.<br/>
To cache an entire page's output we need to specify a directive at the top of our page, this directive is the @ OutputCache.<br/>

<%@ OutputCache Duration = 5 VaryByParam = "ID" %> <br/>
**Duration Attribute**:
* This attributes represents the time in seconds of how long the output cache should be stored in memory. After the defined duration the content stored in the memory will be          cleared automatically.

**VarByParam Attribute:**
* This is the most important attributes; you can't afford to miss that in the OutputCache directory statement. It generally defines the query string parameters to vary the cache (in memory).

### Fragment Caching 
* Fragment caching is used to store Fragment portion of output of a specific web page in the cache memory.<br/>
* 
**WebForm1.aspx**

```C#
<form id="form1" runat="server">
        <div>
            <asp:Label ID="lblinfo" runat="server" Text="Label"></asp:Label>
        </div>
    </form>
```
**WebForm1.aspx.cs**

```C#

using System;
using System.Collections.Generic;
using System.Linq;
using System.Web;
using System.Web.UI;
using System.Web.UI.WebControls;

namespace CacheOptions
{
    public partial class FragmentCache : System.Web.UI.Page
    {
        protected void Page_Load(object sender, EventArgs e)
        {
            if (this.IsPostBack)
            {
                lblinfo.Text += "Page Posted Back.<br/>";
            }
            else
            {
                lblinfo.Text += "page Created.<br/>";
            }

            if (Cache["testitem"] == null)
            {
                lblinfo.Text += "Creating test item.<br/>";
                DateTime testItem = DateTime.Now;
                lblinfo.Text += "Storing test item in cache ";
                lblinfo.Text += "for 30 seconds.<br/>";
                Cache.Insert("testitem", testItem, null,
                DateTime.Now.AddSeconds(5), TimeSpan.Zero);
            }
            else
            {
                lblinfo.Text += "Retrieving test item.<br/>";
                DateTime testItem = (DateTime)Cache["testitem"];
                lblinfo.Text += "Test item is: " + testItem.ToString();
                lblinfo.Text += "<br/>";
            }

            lblinfo.Text += "<br/>";
        }
    }
}

      
   
 
